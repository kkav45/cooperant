# Тестирование новых функций системы

## 1. Тестирование внесения паевого взноса имуществом

### 1.1 TC-PAY-PROP-001: Добавление имущественного взноса
- **Цель:** Проверить возможность добавления паевого взноса в имущественной форме
- **Предусловия:** В системе есть хотя бы один пайщик
- **Шаги:**
  1. Перейти в раздел "Паевые взносы"
  2. Нажать кнопку "Добавить взнос"
  3. Выбрать пайщика из списка
  4. Выбрать тип взноса
  5. В поле "Форма оплаты" выбрать "Имущество"
  6. Поле "Сумма" должно скрыться, появиться поле "Описание имущества"
  7. Ввести описание имущества
  8. Указать дату взноса
  9. Нажать "Сохранить"
- **Ожидаемый результат:** Паевой взнос успешно добавлен, отображается как "Имущество" с пометкой "Не оценено"

### 1.2 TC-PAY-PROP-002: Отображение имущественного взноса
- **Цель:** Проверить корректное отображение имущественного взноса
- **Предусловия:** В системе есть имущественный взнос
- **Шаги:**
  1. Перейти в раздел "Паевые взносы"
  2. Найти имущественный взнос в таблице
  3. Проверить отображение типа оплаты
  4. Проверить статус оценки
  5. Навести курсор на "Имущество"
- **Ожидаемый результат:** В таблице отображается "Имущество", при наведении показывается описание, если не оценено - пометка "Не оценено"

## 2. Тестирование оценки имущества

### 2.1 TC-EVAL-001: Оценка имущественного взноса
- **Цель:** Проверить процесс оценки имущественного взноса
- **Предусловия:** В системе есть неоцененный имущественный взнос
- **Шаги:**
  1. Перейти в раздел "Паевые взносы"
  2. Найти имущественный взнос со статусом "Не оценено"
  3. Нажать кнопку "Оценить"
  4. Ввести оценочную стоимость
  5. Указать дату оценки
  6. Выбрать метод оценки
  7. Нажать "Оформить акт оценки"
- **Ожидаемый результат:** Взнос обновлен, отображается с новой стоимостью, больше не помечен как "Не оценено"

### 2.2 TC-EVAL-002: Обновление бухгалтерской проводки после оценки
- **Цель:** Проверить обновление связанной бухгалтерской проводки после оценки
- **Предусловия:** В системе есть неоцененный имущественный взнос с связанной проводкой
- **Шаги:**
  1. Оценить имущественный взнос
  2. Перейти в раздел "Бухгалтерия"
  3. Найти связанную проводку
  4. Проверить сумму проводки
- **Ожидаемый результат:** Сумма проводки обновлена в соответствии с оценочной стоимостью

## 3. Тестирование выбытия пайщика

### 3.1 TC-WITHDRAW-001: Выбытие пайщика без задолженности
- **Цель:** Проверить процесс выбытия пайщика без задолженности
- **Предусловия:** В системе есть активный пайщик без задолженности
- **Шаги:**
  1. Перейти в раздел "Пайщики"
  2. Найти активного пайщика
  3. Нажать кнопку "Выбытие"
  4. Выбрать причину выбытия
  5. Указать дату выбытия
  6. Нажать "Подтвердить выбытие"
  7. Заполнить форму возврата взноса
  8. Нажать "Выполнить возврат"
- **Ожидаемый результат:** Пайщик переведен в статус "Выбыл", оформлен возврат паевого взноса

### 3.2 TC-WITHDRAW-002: Попытка выбытия пайщика с задолженностью
- **Цель:** Проверить запрет на выбытие пайщика с задолженностью
- **Предусловия:** В системе есть пайщик с неоплаченными взносами
- **Шаги:**
  1. Перейти в раздел "Пайщики"
  2. Найти пайщика с задолженностью
  3. Нажать кнопку "Выбытие"
- **Ожидаемый результат:** Появляется сообщение об ошибке, выбытие невозможно

### 3.3 TC-WITHDRAW-003: Возврат паевого взноса при выбытии
- **Цель:** Проверить корректность расчета суммы возврата
- **Предусловия:** В системе есть пайщик с оплаченными паевыми взносами
- **Шаги:**
  1. Инициировать выбытие пайщика
  2. Проверить автоматически рассчитанную сумму возврата
  3. Выбрать форму возврата
  4. Завершить процесс возврата
- **Ожидаемый результат:** Сумма возврата корректно рассчитана, возврат оформлен

## 4. Тестирование восстановления членства

### 4.1 TC-RESTORE-001: Восстановление членства пайщика
- **Цель:** Проверить процесс восстановления членства
- **Предусловия:** В системе есть пайщик с неактивным статусом
- **Шаги:**
  1. Перейти в раздел "Пайщики"
  2. Найти пайщика с неактивным статусом
  3. Нажать кнопку "Восстановить"
  4. Подтвердить действие
- **Ожидаемый результат:** Статус пайщика изменен на "Активный"

## 5. Тестирование бухгалтерских проводок

### 5.1 TC-ACCT-001: Автоматическое создание проводки при внесении взноса
- **Цель:** Проверить автоматическое создание бухгалтерской проводки при внесении паевого взноса
- **Предусловия:** Система готова к добавлению взноса
- **Шаги:**
  1. Добавить новый паевой взнос (любой тип)
  2. Перейти в раздел "Бухгалтерия"
  3. Найти новую проводку
  4. Проверить корректность счетов и суммы
- **Ожидаемый результат:** Проводка создана автоматически с правильными счетами и суммой

### 5.2 TC-ACCT-002: Автоматическое создание проводки при возврате
- **Цель:** Проверить автоматическое создание проводки при возврате паевого взноса
- **Предусловия:** Процесс возврата паевого взноса инициирован
- **Шаги:**
  1. Выполнить возврат паевого взноса при выбытии
  2. Перейти в раздел "Бухгалтерия"
  3. Найти проводку возврата
  4. Проверить корректность счетов
- **Ожидаемый результат:** Проводка возврата создана с правильными счетами (Дт 86 Кт 51 или Кт 08)

### 5.3 TC-ACCT-003: Связывание проводки с операцией
- **Цель:** Проверить связывание бухгалтерской проводки с операцией
- **Предусловия:** В системе есть проводки, созданные автоматически
- **Шаги:**
  1. Перейти в раздел "Бухгалтерия"
  2. Найти проводку, созданную автоматически
  3. Проверить отображение информации о связанной операции
- **Ожидаемый результат:** В таблице проводок отображается информация о связанной операции и пайщике

## 6. Тестирование отчетов

### 6.1 TC-REPORT-001: Отчет по паевым взносам с новыми типами
- **Цель:** Проверить корректное отображение новых типов операций в отчете
- **Шаги:**
  1. Перейти в раздел "Отчеты"
  2. Нажать "Отчет по взносам"
  3. Проверить отображение обычных взносов и возвратов
  4. Проверить статистику по типам операций
- **Ожидаемый результат:** Отчет корректно отображает все типы операций, включая возвраты

### 6.2 TC-REPORT-002: Бухгалтерский баланс с типами проводок
- **Цель:** Проверить разделение проводок на поступления и возвраты в балансе
- **Шаги:**
  1. Перейти в раздел "Отчеты"
  2. Нажать "Бухгалтерский баланс"
  3. Проверить статистику по типам проводок
  4. Проверить таблицу проводок на наличие типа операции
- **Ожидаемый результат:** Проводки разделены на поступления и возвраты, тип операции отображается в таблице

## 7. Тестирование целостности данных

### 7.1 TC-INTEGRITY-001: Удаление взноса и связанной проводки
- **Цель:** Проверить удаление связанной проводки при удалении взноса
- **Шаги:**
  1. Найти паевой взнос с связанной проводкой
  2. Удалить взнос
  3. Перейти в раздел "Бухгалтерия"
  4. Проверить наличие связанной проводки
- **Ожидаемый результат:** Связанная проводка также удалена

### 7.2 TC-INTEGRITY-002: Обновление оценки и связанной проводки
- **Цель:** Проверить обновление суммы связанной проводки при изменении оценки
- **Шаги:**
  1. Найти имущественный взнос с оценкой и связанной проводкой
  2. Изменить оценку
  3. Найти связанную проводку
  4. Проверить сумму проводки
- **Ожидаемый результат:** Сумма связанной проводки обновлена в соответствии с новой оценкой