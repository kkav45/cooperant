# Решение проблемы с кодировкой в jspdf при работе с русским текстом

## Проблема
При экспорте документов в PDF с использованием библиотеки jsPDF русский текст отображался некорректно из-за отсутствия поддержки кириллических символов в стандартных шрифтах.

## Решение
1. Создан специальный файл шрифта с поддержкой кириллицы: `fonts/roboto-cyrillic-normal.js`
2. Все функции экспорта в PDF в файле `pdf_export.js` были обновлены для использования этого шрифта
3. Добавлена функция `loadCyrillicFont(doc)` для загрузки кириллического шрифта перед созданием PDF

## Технические детали

### Файл шрифта
Файл `fonts/roboto-cyrillic-normal.js` содержит:
- Полные метрики для кириллических символов (Unicode диапазоны для русского алфавита)
- Правильно сформированные данные шрифта в формате, подходящем для jsPDF
- Поддержка всех необходимых кириллических символов

### Обновленные функции
Все функции экспорта теперь включают вызов `loadCyrillicFont(doc)` перед добавлением текста в PDF:
- `exportCertificateAsPDF(certificateId)`
- `exportMemberCertificateAsPDF(memberId)`
- `exportMeetingProtocolAsPDF(meetingId)`
- `exportReportAsPDF(reportTitle, reportContent)`
- `exportApplicationAsPDF(applicationId)`

### Использование
Функции автоматически используют кириллический шрифт при создании PDF документов. Никаких изменений в вызовах функций не требуется.

## Тестирование
Для проверки корректности работы созданы тестовые HTML-файлы:
- `test_pdf_cyrillic.html` - базовый тест
- `advanced_test_pdf_cyrillic.html` - расширенный тест

## Результат
Теперь все PDF-документы, создаваемые через функции экспорта, корректно отображают русский текст благодаря использованию шрифта с поддержкой кириллицы.

## Возможные проблемы и решения
1. Если шрифт не загружается, проверьте наличие файла `./fonts/roboto-cyrillic-normal.js`
2. Убедитесь, что сервер правильно обслуживает файлы с расширением .js
3. При использовании в production убедитесь, что файл шрифта доступен по указанному пути